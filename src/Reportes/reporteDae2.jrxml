<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="reporteDae2" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="ab8b42aa-2a08-49a2-9d50-7a336c6013f8">
	<property name="ireport.zoom" value="1.3310000000000006"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<queryString>
		<![CDATA[SELECT
    s.servicio AS nombre_servicio,
    tv.tipovehiculo AS tipo_vehiculo,
    t.precioactual AS precio_lista,
    t.tiempoestimado AS minutos_estimados,
    ROUND((t.precioactual / NULLIF(t.tiempoestimado, 0)) * 60, 2) AS ingreso_por_hora_teorico
FROM
    tarifario t
JOIN
    servicio s ON t.idservicio = s.idservicio
JOIN
    tipo_vehiculo tv ON t.idtipovehiculo = tv.idtipovehiculo
ORDER BY
    ingreso_por_hora_teorico DESC;]]>
	</queryString>
	<field name="nombre_servicio" class="java.lang.String"/>
	<field name="tipo_vehiculo" class="java.lang.String"/>
	<field name="precio_lista" class="java.math.BigDecimal"/>
	<field name="minutos_estimados" class="java.lang.Integer"/>
	<field name="ingreso_por_hora_teorico" class="java.math.BigDecimal"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<staticText>
				<reportElement x="157" y="24" width="267" height="55" uuid="ba31e2a9-898a-4165-a3b5-b9bc4989fc5d"/>
				<textElement textAlignment="Center">
					<font fontName="Times New Roman" size="20" isBold="true"/>
				</textElement>
				<text><![CDATA[Eficiencia del Taller (Ingresos vs. Tiempo Estimado)]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="71" splitType="Stretch">
			<staticText>
				<reportElement x="56" y="51" width="71" height="20" uuid="382c3cb1-bf74-4d6c-8e70-cae8bb7a89c3"/>
				<textElement>
					<font isBold="true" isUnderline="true"/>
				</textElement>
				<text><![CDATA[Servicio]]></text>
			</staticText>
			<staticText>
				<reportElement x="174" y="51" width="110" height="20" uuid="7f381677-b490-46cc-bc12-eecf251d0f23"/>
				<textElement>
					<font isBold="true" isUnderline="true"/>
				</textElement>
				<text><![CDATA[Tipo de Vehículo]]></text>
			</staticText>
			<staticText>
				<reportElement x="302" y="51" width="32" height="20" uuid="170dbe44-6d00-4075-bbd3-405e503cc2a1"/>
				<textElement>
					<font isBold="true" isUnderline="true"/>
				</textElement>
				<text><![CDATA[Precio]]></text>
			</staticText>
			<staticText>
				<reportElement x="385" y="51" width="87" height="20" uuid="a77f5543-a109-4504-a1f0-d6deac76ee10"/>
				<textElement>
					<font isBold="true" isUnderline="true" isStrikeThrough="false"/>
				</textElement>
				<text><![CDATA[Minutos Estimados]]></text>
			</staticText>
			<staticText>
				<reportElement x="483" y="51" width="71" height="20" uuid="e3cc4302-b560-48fd-81e4-9a6d03dc20a1"/>
				<textElement>
					<font isBold="true" isUnderline="true"/>
				</textElement>
				<text><![CDATA[Ingreso Teórico]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="49" splitType="Stretch">
			<line>
				<reportElement x="0" y="37" width="554" height="1" uuid="8228f050-a8ca-4b41-b9ec-86b9f95128ff"/>
			</line>
			<line>
				<reportElement x="371" y="0" width="1" height="49" uuid="58fbe57f-d8a7-4452-b2d0-b507bf2c9c12"/>
			</line>
			<line>
				<reportElement x="160" y="0" width="1" height="49" uuid="987c8c4d-b9ca-4c73-814b-76138656c3b5"/>
			</line>
			<line>
				<reportElement x="271" y="0" width="1" height="49" uuid="11cd7177-7870-440a-92f8-c8265210360b"/>
			</line>
			<textField>
				<reportElement x="0" y="0" width="143" height="20" uuid="25b06757-b2cc-4284-ad16-80df423568ce"/>
				<textFieldExpression><![CDATA[$F{nombre_servicio}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="174" y="0" width="110" height="20" uuid="b0db8314-ba55-4b76-9625-9efcea5b6903"/>
				<textFieldExpression><![CDATA[$F{tipo_vehiculo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="313" y="0" width="59" height="20" uuid="90e75789-08ca-452c-8720-804e8f3b756f"/>
				<textFieldExpression><![CDATA[$F{precio_lista}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="424" y="0" width="42" height="20" uuid="20abe228-40ab-4d80-9df6-55f15bc5f6cf"/>
				<textFieldExpression><![CDATA[$F{minutos_estimados}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="501" y="0" width="53" height="20" uuid="c871f10d-3dbe-4ae0-bc8e-fe6977adc84f"/>
				<textFieldExpression><![CDATA[$F{ingreso_por_hora_teorico}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="480" y="0" width="1" height="49" uuid="32206ecb-bd14-4a9e-a044-d9f42476c57d"/>
			</line>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="12" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="228" splitType="Stretch">
			<textField>
				<reportElement x="434" y="208" width="80" height="20" uuid="e28f4ea7-38f6-47c4-b927-bc0a37f365fb"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Página "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="514" y="208" width="40" height="20" uuid="22e3dde7-6a4f-4476-a635-3d3f80bf1268"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="HH.mm">
				<reportElement x="10" y="208" width="100" height="20" uuid="07dce877-2fcc-49a4-b48d-faf8eb7bcdcf"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField pattern="EEEEE dd MMMMM yyyy">
				<reportElement x="10" y="188" width="100" height="20" uuid="345a57f3-4e37-4c79-93c4-1186c2591244"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
